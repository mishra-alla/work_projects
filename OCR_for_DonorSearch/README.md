# **Распознавание таблиц медицинских справок для DonorSearch / OCR for DonorSearch**
В данном репозитории располагается ML-решение для автоматического извлечения информации с фотографий медицинских документов стандартного образца.

**Заказчик:** Сообщество доноров Крови "DonorSearch"

**Цель:** Автоматизировать перенос данных с фотографий медицинских справок донора в формат .csv.

**Задача:** Детектировать табличную часть справки, распознать текст и привести данные к требуемому шаблону.

**Модель:** В работе использовали Модель-NANONETSOCR

**Метрика:** Accuracy

### **Описание данных:**
- **Исходные данные:**
  - 16 фотографий медицинских справок с данными от доноров (унифицированная форма №405) для распознавания, 
  - 15 файлов с соответствующей инфрормцацией в формате .csv (для проверки качества рабоы нашей модели)
- **Терминология** для итоговой распознанной таблицы:
  - **Класс крови:** Цельная кровь, Плазма, Тромбоциты. 
  - **Тип донации:** Безвозмездно.
- Колонки таблицы, которые заказчик обозначил, как самые важные и трудозатратные: 
  - Дата донации,
  - Класс крови,
  - Тип донации.

### **Описание проекта:**
Для реализации задачи использована **модель NANONETSOCR**. 
> ! Важно: Ключ для запуска модели генерируется в личном кабинете на сайте https://nanonets.com
> данные полученного вами ключа необходимо внести в файл `key.csv` в формате `0000000a-000a-00aa-000a-00000000000a`
- Проведено исследование данных. Осуществили соотнесение входящих данных с необходимым итоговым результатом:
  - Определены сокращения и соотнесены с используемой терминологией:
      - Цельная кровь = [кр / д]
      - Плазма = [пл / д, пп / д, п / ф]
      - Тромбоциты = [т / ф, ц / д]
      - Тип донации: Безвозмездно = [( бв )]
  - Определили необходимые дальнейшие преобразования для дальнейшей работы модели и оценки качества модели.
- Проведено исследование модели **NANONETSOCR**,
- Разработана функция постобработки распознанных данных - распознанная таблица приводится в соответствующий формат.
  - Формируются рабочие колонки: 'Класс крови', 'Дата донации', 'Тип донации',
  - Все возможные сокращения преобразовываются в используемую терминологию необходимого итогового результата.
  - Дата донации: переводится в формат чч.мм.гггг,
  - Проводится очиства от лишних "шумов".
- Сформирована функция оценки качества распознавания табличных данных - наналог **Accuracy**. 
- Проведена оценка работоспособности полученного алгоритма, метрика **Accuracy**:
  - С помощью доработоной модели удалось получить общее **качество распознавания более 75,5%**.
  - Время полного цикла преобразований одного изображения занимает от 10 до 30 секунд.
